{"ast":null,"code":"import _objectSpread from\"/home/sree/Documents/Works/naadanvipani/frontend/naadan-vipani-trivandrum-for-backend-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/sree/Documents/Works/naadanvipani/frontend/naadan-vipani-trivandrum-for-backend-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sree/Documents/Works/naadanvipani/frontend/naadan-vipani-trivandrum-for-backend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/sree/Documents/Works/naadanvipani/frontend/naadan-vipani-trivandrum-for-backend-master/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState,useContext}from'react';import axios from'axios';import qs from'qs';import{authenticate,isAuthenticated}from'../Auth/AuthenticationHandler';// const Base_URL = 'http://localhost:4000'\nimport{jsx as _jsx}from\"react/jsx-runtime\";var Base_URL='http://ec2-34-229-164-148.compute-1.amazonaws.com:4000';var ProductContext=/*#__PURE__*/React.createContext();function ContextProvider(props){// FOR CHANGING BLOCK AND DISTRICT FROM LOGIN SCREEN\nvar _useState=useState(\"1\"),_useState2=_slicedToArray(_useState,2),block=_useState2[0],setblock=_useState2[1];var _useState3=useState(\"1\"),_useState4=_slicedToArray(_useState3,2),district=_useState4[0],setdistrict=_useState4[1];// FOR CHANGING BLOCK AND DISTRICT FROM LOGIN SCREEN\nvar _useState5=useState({// cart : [],\nproducts_veg:[],_home_screen:'kit',// kit or veg\nkit_screen:'200'//200 or 400\n// user_address : [],\n}),_useState6=_slicedToArray(_useState5,2),values=_useState6[0],setValues=_useState6[1];var _useState7=useState({user_address:[]}),_useState8=_slicedToArray(_useState7,2),userValues=_useState8[0],setUserValues=_useState8[1];var _useState9=useState({cart:[]}),_useState10=_slicedToArray(_useState9,2),cart=_useState10[0],setCart=_useState10[1];var initUserAddress=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:phoneNo=isAuthenticated().phoneNumber;// console.log(\"init address\")\ntry{phoneNumber=phoneNo.substring(3);}catch(_unused){}_context.next=4;return axios({'method':'GET','url':\"\".concat(Base_URL,\"/user/\").concat(phoneNumber),'headers':{'content-type':'application/x-www-form-urlencoded;charset=utf-8'},'data':qs.stringify({})}).then(function(res){// if success\nif(res.status===201){// console.log(res.data)\nif(res.data.full_name==='notfound'){// console.log(\"no user\");\nUpdateNullAddress();}else{setUserValues(_objectSpread(_objectSpread({},userValues),{},{user_address:[res.data]// match it from backend\n}));// console.log(\"201 : \" , res.data )\n// console.log(\"return true\")\n}}else{console.log(\"401 : \",res.data);}}).catch(function(err){});case 4:return _context.abrupt(\"return\",true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function initUserAddress(){return _ref.apply(this,arguments);};}();// ---------------------------------------------------\n// CART START \nvar InitCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:phoneNo=isAuthenticated().phoneNumber;// console.log(\"Add to cart : \", itemId , \" , \" , Quantity );\ntry{phoneNumber=phoneNo.substring(3);}catch(_unused2){}_context2.next=4;return axios({'method':'GET','url':\"\".concat(Base_URL,\"/cart/\").concat(phoneNumber),'headers':{'content-type':'application/json;charset=utf-8'},'data':{}}).then(function(res){// if success\nif(res.status===201){// console.log(\" data read from cart : \" , res.data )\n// let phoneNo = isAuthenticated().phoneNumber;\n// let phoneNumber;\nsetCart(_objectSpread(_objectSpread({},cart),{},{cart:[res.data]}));// console.log(\"cart : \", res.data)\n}}).catch(function(err){});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function InitCart(){return _ref2.apply(this,arguments);};}();var AddToCart=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(itemId,quantity){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:phoneNo=isAuthenticated().phoneNumber;console.log(\"Add to cart : \",itemId,\" , \",quantity);try{phoneNumber=phoneNo.substring(3);}catch(_unused3){}_context3.next=5;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/cart/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{\"product_id\":\"\".concat(itemId),\"quantity\":quantity,\"user_id\":\"\".concat(phoneNumber),\"ordered_or_not\":1}}).then(function(res){// if success\nif(res.status===201){console.log(\" data pushed AddToCart: \",res.data);setCart(_objectSpread(_objectSpread({},cart),{},{cart:[res.data]// match it from backend\n}));// initKitProducts()\n}}).catch(function(err){});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function AddToCart(_x,_x2){return _ref3.apply(this,arguments);};}();var RemoveFromCart=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(cartID){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:phoneNo=isAuthenticated().phoneNumber;console.log(\"remove from cart : \",cartID);try{phoneNumber=phoneNo.substring(3);}catch(_unused4){}_context4.next=5;return axios({'method':'DELETE','url':\"\".concat(Base_URL,\"/cart/\").concat(cartID),'headers':{'content-type':'application/json;charset=utf-8'},'data':{user_id:\"\".concat(phoneNumber)}}).then(function(res){// if success\nif(res.status===201){console.log(\" data removed AddToCart: \",res.data);setCart(_objectSpread(_objectSpread({},cart),{},{cart:[res.data]// match it from backend\n}));// initKitProducts()\n}}).catch(function(err){});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function RemoveFromCart(_x3){return _ref4.apply(this,arguments);};}();// counter handle\nvar CartChangeCount=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(itemId,quantity){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:phoneNo=isAuthenticated().phoneNumber;console.log(\"cart count adjust : \",itemId,\" , \",quantity);try{phoneNumber=phoneNo.substring(3);}catch(_unused5){}_context5.next=5;return axios({'method':'PATCH','url':\"\".concat(Base_URL,\"/cart/\").concat(phoneNumber),'headers':{'content-type':'application/json;charset=utf-8'},'data':{\"product_id\":\"\".concat(itemId),\"quantity\":\"\".concat(quantity),\"user_id\":\"\".concat(phoneNumber),\"ordered_or_not\":1}}).then(function(res){// if success\nif(res.status===201){console.log(\" cart count changed : \",res.data);// let phoneNo = isAuthenticated().phoneNumber;\n// let phoneNumber;\n// setUserValues({\n//                 ...userValues,\n//                 user_address : [res.data], // match it from backend\n//             })\n// let phoneNo = isAuthenticated().phoneNumber;\n// let phoneNumber;\n// setUserValues({\n//                 ...userValues,\n//                 user_address : [res.data], // match it from backend\n//             })\nInitCart();initKitProducts();}else{console.log(\" error response cartChangeCount\");}}).catch(function(err){});case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function CartChangeCount(_x4,_x5){return _ref5.apply(this,arguments);};}();// CART SECTION END\n// ---------------------------------------------------\nvar UpdateNullAddress=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:phoneNo=isAuthenticated().phoneNumber;// console.log(\" updateNull address : \" , district , block );\ntry{phoneNumber=phoneNo.substring(3);}catch(_unused6){}_context6.next=4;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/user/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{id:\"\".concat(phoneNumber),full_name:\"name\",house_name:\"name\",street_name:\"name\",pincode:\"name\",// district:district, \n// block:block,\ndistrict:\"1\",block:\"1\"}}).then(function(res){// if success\nif(res.status===201){console.log(\" data pushed UpdateNullAddress  : \",res.data);// let phoneNo = isAuthenticated().phoneNumber;\n// let phoneNumber;\n// let phoneNo = isAuthenticated().phoneNumber;\n// let phoneNumber;\nsetUserValues(_objectSpread(_objectSpread({},userValues),{},{user_address:[res.data]// match it from backend\n}));initKitProducts();}}).catch(function(err){});case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function UpdateNullAddress(){return _ref6.apply(this,arguments);};}();var initKitProducts=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(\"values at init kit  :  \",userValues.user_address[0]);_context7.prev=1;data=userValues.user_address[0];// console.log(\"init kit \");\n// await fetch('https://api.npms.io/v2/search?q=react')\n_context7.next=5;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/products/products-with-location/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{district:data.district,block:data.block}}).then(function(res){if(res.status===201){setValues(_objectSpread(_objectSpread({},values),{},{products_veg:res.data// match it from backend\n}));console.log(\"res data : \",res.data);}}).catch(function(err){console.log(\"error at product init : \",err);});case 5:_context7.next=12;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](1);data=userValues.user_address[0];// console.log(\"init kit \");\n// await fetch('https://api.npms.io/v2/search?q=react')\n_context7.next=12;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/products/products-with-location/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{district:district,block:block}}).then(function(res){if(res.status===201){setValues(_objectSpread(_objectSpread({},values),{},{products_veg:res.data// match it from backend\n}));// console.log(\"res data : \", res.data );\n}}).catch(function(err){console.log(\"error at product init : \",err);});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[1,7]]);}));return function initKitProducts(){return _ref7.apply(this,arguments);};}();var UpdateAddressToDb=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(full_name,house_name,street_name,pincode){var phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:phoneNo=isAuthenticated().phoneNumber;console.log(\" update address : \",userValues.user_address[0]);try{phoneNumber=phoneNo.substring(3);}catch(_unused8){}// return 0;\n_context8.next=5;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/user/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{id:\"\".concat(phoneNumber),full_name:\"\".concat(full_name),house_name:house_name,street_name:street_name,pincode:pincode,district:userValues.user_address[0].district,block:userValues.user_address[0].block}}).then(function(res){if(res.status===201){// console.log(\" data pushed : \" , res.data )\nsetUserValues(_objectSpread(_objectSpread({},userValues),{},{user_address:[res.data]}));initKitProducts();}}).catch(function(err){});case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function UpdateAddressToDb(_x6,_x7,_x8,_x9){return _ref8.apply(this,arguments);};}();var placeOrderToDb=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(slot,total_amount){var data,phoneNo,phoneNumber;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:// console.log(\"values :  \" , userValues.user_address[0] );\ndata=userValues.user_address[0];phoneNo=isAuthenticated().phoneNumber;console.log(\"placing order : \",slot,total_amount);try{phoneNumber=phoneNo.substring(3);}catch(_unused9){}// console.log(\"init kit \");\n// await fetch('https://api.npms.io/v2/search?q=react')\n_context9.next=6;return axios({'method':'POST','url':\"\".concat(Base_URL,\"/orders/\"),'headers':{'content-type':'application/json;charset=utf-8'},'data':{user_id:\"\".concat(phoneNumber),slot:slot,total_amount:\"\".concat(total_amount),status:\"1\",payment_id:\"NULL\"}}).then(function(res){if(res.status===201){setValues(_objectSpread(_objectSpread({},values),{},{products_veg:res.data// match it from backend\n}));// console.log(\"res data : \", res.data );\n}}).catch(function(err){console.log(\"error at product init : \",err);});case 6:case\"end\":return _context9.stop();}}},_callee9);}));return function placeOrderToDb(_x10,_x11){return _ref9.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!isAuthenticated()){_context10.next=5;break;}_context10.next=3;return initUserAddress();case 3:_context10.next=5;return InitCart();case 5:case\"end\":return _context10.stop();}}},_callee10);})),[]);return/*#__PURE__*/_jsx(ProductContext.Provider,{value:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},userValues),values),{},{block:block,district:district},cart),{},{setValues:setValues,setUserValues:setUserValues,setblock:setblock,setdistrict:setdistrict,initUserAddress:initUserAddress,initKitProducts:initKitProducts,AddToCart:AddToCart,CartChangeCount:CartChangeCount,InitCart:InitCart,placeOrderToDb:placeOrderToDb,UpdateAddressToDb:UpdateAddressToDb,RemoveFromCart:RemoveFromCart}),children:props.children});}// const ContextConsumer = ProductContext.Consumer;\nvar ContextConsumer=ProductContext;export{ContextConsumer,ContextProvider};","map":{"version":3,"sources":["/home/sree/Documents/Works/naadanvipani/frontend/naadan-vipani-trivandrum-for-backend-master/src/utils/Context.js"],"names":["React","useEffect","useState","useContext","axios","qs","authenticate","isAuthenticated","Base_URL","ProductContext","createContext","ContextProvider","props","block","setblock","district","setdistrict","products_veg","_home_screen","kit_screen","values","setValues","user_address","userValues","setUserValues","cart","setCart","initUserAddress","phoneNo","phoneNumber","substring","stringify","then","res","status","data","full_name","UpdateNullAddress","console","log","catch","err","InitCart","AddToCart","itemId","quantity","RemoveFromCart","cartID","user_id","CartChangeCount","initKitProducts","id","house_name","street_name","pincode","UpdateAddressToDb","placeOrderToDb","slot","total_amount","payment_id","children","ContextConsumer"],"mappings":"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","sourcesContent":["import React,{useEffect, useState, useContext} from 'react'\nimport axios from 'axios'\nimport qs from 'qs';\nimport {authenticate, isAuthenticated} from '../Auth/AuthenticationHandler'\n\n// const Base_URL = 'http://localhost:4000'\nconst Base_URL = 'http://ec2-34-229-164-148.compute-1.amazonaws.com:4000'\n\nconst ProductContext = React.createContext()\n\nfunction  ContextProvider(props) {\n\n\n\n\n// FOR CHANGING BLOCK AND DISTRICT FROM LOGIN SCREEN\n    \n    const [block, setblock] = useState(\"1\")\n    const [district, setdistrict] = useState(\"1\")\n\n// FOR CHANGING BLOCK AND DISTRICT FROM LOGIN SCREEN\n\n\n    const [values,setValues] = useState({\n        // cart : [],\n        products_veg: [],\n        _home_screen : 'kit', // kit or veg\n        kit_screen : '200',      //200 or 400\n        // user_address : [],\n    })\n    \n    const[userValues,setUserValues] = useState({\n        user_address : [],\n   })\n\n\n   const[cart,setCart] = useState({\n        cart : [],\n    })\n\n\n    const initUserAddress = async ()=>{\n        let phoneNo = isAuthenticated().phoneNumber;\n        let phoneNumber ;\n\n        // console.log(\"init address\")\n\n        try\n        {\n            phoneNumber = (phoneNo).substring(3);\n        }catch{\n\n        }\n\n        await axios({\n            'method'    :   'GET',\n            'url'       :   `${Base_URL}/user/${phoneNumber}`,\n            'headers'   :   {\n                                'content-type': 'application/x-www-form-urlencoded;charset=utf-8',\n                            },\n            'data'      :  qs.stringify({\n                            }),\n        })\n        .then (res =>{\n            // if success\n            if(res.status === 201)\n            {\n                // console.log(res.data)\n                if( (res.data.full_name==='notfound') )\n                {\n                    // console.log(\"no user\");\n                    UpdateNullAddress() ;\n                }\n                else\n                {\n                    \n                    setUserValues({\n                                    ...userValues,\n                                    user_address : [res.data], // match it from backend\n                                });    \n\n                    // console.log(\"201 : \" , res.data )\n                    // console.log(\"return true\")\n                    \n                }\n                \n            }\n            else {\n                console.log(\"401 : \" , res.data )\n            }\n        }).catch(err=>{\n        })\n\n        return true;\n\n    }\n\n\n\n\n\n\n    // ---------------------------------------------------\n    // CART START \n\n    const InitCart = async () =>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        let phoneNumber ;\n\n        // console.log(\"Add to cart : \", itemId , \" , \" , Quantity );\n\n        try\n        {\n            phoneNumber = (phoneNo).substring(3);\n        }catch{\n\n        }\n        \n\n        await axios({\n            'method'    :   'GET',\n            'url'       :   `${Base_URL}/cart/${phoneNumber}`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                           },\n        })\n        .then(res =>{\n            // if success\n            if(res.status === 201)\n            {\n                // console.log(\" data read from cart : \" , res.data )\n                // let phoneNo = isAuthenticated().phoneNumber;\n                // let phoneNumber;\n                setCart({\n                    ...cart,\n                    cart:[res.data],\n                })\n\n                // console.log(\"cart : \", res.data)\n            }\n        }).catch(err=>{\n            \n        })\n    }\n\n\n    const AddToCart = async (itemId, quantity) =>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        let phoneNumber ;\n\n        console.log(\"Add to cart : \", itemId , \" , \" , quantity );\n\n        try\n        {\n            phoneNumber = (phoneNo).substring(3);\n        }catch{\n\n        }\n\n        await axios({\n            'method'    :   'POST',\n            'url'       :   `${Base_URL}/cart/`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                                \"product_id\":`${itemId}`, \n                                \"quantity\":quantity, \n                                \"user_id\":`${phoneNumber}`, \n                                \"ordered_or_not\":1\n                           },\n        })\n        .then(res =>{\n            // if success\n            if(res.status === 201)\n            {\n                console.log(\" data pushed AddToCart: \" , res.data )\n                \n                setCart({\n                                ...cart,\n                                cart : [res.data], // match it from backend\n                            })\n\n                // initKitProducts()\n            }\n        }).catch(err=>{\n            \n        })\n    }\n\n\n\n    const RemoveFromCart = async (cartID) =>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        let phoneNumber ;\n\n        console.log(\"remove from cart : \", cartID );\n\n        try\n        {\n            phoneNumber = (phoneNo).substring(3);\n        }catch{\n\n        }\n\n        await axios({\n            'method'    :   'DELETE',\n            'url'       :   `${Base_URL}/cart/${cartID}`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                                user_id:`${phoneNumber}`\n                           },\n        })\n        .then(res =>{\n            // if success\n            if(res.status === 201)\n            {\n                console.log(\" data removed AddToCart: \" , res.data )\n                \n                setCart({\n                                ...cart,\n                                cart : [res.data], // match it from backend\n                            })\n\n                // initKitProducts()\n            }\n        }).catch(err=>{\n            \n        })\n    }\n\n\n\n\n    // counter handle\n    const CartChangeCount = async (itemId, quantity) =>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        let phoneNumber ;\n\n        console.log(\"cart count adjust : \", itemId , \" , \" , quantity );\n\n        try\n        {\n            phoneNumber = (phoneNo).substring(3);\n        }catch{\n\n        }\n\n        await axios({\n            'method'    :   'PATCH',\n            'url'       :   `${Base_URL}/cart/${phoneNumber}`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                                \"product_id\":`${itemId}`, \n                                \"quantity\":`${quantity}`, \n                                \"user_id\":`${phoneNumber}`, \n                                \"ordered_or_not\":1\n                           },\n        })\n        .then(res =>{\n            // if success\n            if(res.status === 201)\n            {\n                console.log(\" cart count changed : \" , res.data )\n                \n                // let phoneNo = isAuthenticated().phoneNumber;\n                // let phoneNumber;\n                // setUserValues({\n                //                 ...userValues,\n                //                 user_address : [res.data], // match it from backend\n                //             })\n                InitCart();\n                initKitProducts()\n            }\n            else {\n                console.log(\" error response cartChangeCount\"  )\n            }\n        }).catch(err=>{\n            \n        })\n    }\n    // CART SECTION END\n    // ---------------------------------------------------\n\n\n\n    const UpdateNullAddress = async ()=>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        \n        // console.log(\" updateNull address : \" , district , block );\n\n        let phoneNumber;\n        try{\n            phoneNumber = (phoneNo).substring(3);\n        }\n        catch{\n\n        }\n        \n        await axios({\n            'method'    :   'POST',\n            'url'       :   `${Base_URL}/user/`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                                id:`${phoneNumber}`,\n                                full_name:\"name\",\n                                house_name:\"name\",\n                                street_name:\"name\", \n                                pincode:\"name\",\n                                // district:district, \n                                // block:block,\n                                district:\"1\", \n                                block:\"1\",\n                           },\n        })\n        .then(res =>{\n            // if success\n            if(res.status === 201)\n            {\n                console.log(\" data pushed UpdateNullAddress  : \" , res.data )\n                \n                // let phoneNo = isAuthenticated().phoneNumber;\n                // let phoneNumber;\n                setUserValues({\n                                ...userValues,\n                                user_address : [res.data], // match it from backend\n                            })\n\n                initKitProducts()\n            }\n        }).catch(err=>{\n            \n        })\n        \n    }\n\n\n    const initKitProducts = async ()=>{\n        console.log(\"values at init kit  :  \" , userValues.user_address[0] );\n        try{\n            var data =  userValues.user_address[0];\n            // console.log(\"init kit \");\n            // await fetch('https://api.npms.io/v2/search?q=react')\n            \n            await axios({\n                'method'    :   'POST',\n                'url'       :   `${Base_URL}/products/products-with-location/`,\n                'headers'   :   {\n                                    'content-type': 'application/json;charset=utf-8',\n                                },\n                'data'      :  {\n                                    district:data.district, \n                                    block:data.block,\n                            },                  \n            })\n            .then(res =>{\n                if(res.status === 201)\n                {\n                    setValues({\n                        ...values,\n                        products_veg : res.data, // match it from backend\n                    })\n                    console.log(\"res data : \", res.data );\n                }\n            }).catch(err=>{\n                console.log(\"error at product init : \",err);\n            })\n            \n        }\n        catch\n        {\n            var data =  userValues.user_address[0];\n            // console.log(\"init kit \");\n            // await fetch('https://api.npms.io/v2/search?q=react')\n            \n            await axios({\n                'method'    :   'POST',\n                'url'       :   `${Base_URL}/products/products-with-location/`,\n                'headers'   :   {\n                                    'content-type': 'application/json;charset=utf-8',\n                                },\n                'data'      :  {\n                                    district:district, \n                                    block:block,\n                            },                  \n            })\n            .then(res =>{\n                if(res.status === 201)\n                {\n                    setValues({\n                        ...values,\n                        products_veg : res.data, // match it from backend\n                    })\n                    // console.log(\"res data : \", res.data );\n                }\n            }).catch(err=>{\n                console.log(\"error at product init : \",err);\n            })\n            \n        }\n        \n    }\n\n\n\n    const UpdateAddressToDb = async (full_name, house_name, street_name, pincode )=>{\n        \n        let phoneNo = isAuthenticated().phoneNumber;\n        \n        console.log(\" update address : \" , userValues.user_address[0] );\n\n        let phoneNumber;\n        try{\n            phoneNumber = (phoneNo).substring(3);\n        }\n        catch{\n\n        }\n\n        // return 0;\n        \n        await axios({\n            'method'    :   'POST',\n            'url'       :   `${Base_URL}/user/`,\n            'headers'   :   {\n                                'content-type': 'application/json;charset=utf-8',\n                            },\n            'data'      :  {\n                                id:`${phoneNumber}`,\n                                full_name:`${full_name}`,\n                                house_name:house_name,\n                                street_name:street_name, \n                                pincode:pincode,\n                                district:userValues.user_address[0].district, \n                                block:userValues.user_address[0].block,\n                           },\n        })\n        .then(res =>{\n            if(res.status === 201)\n            {\n                // console.log(\" data pushed : \" , res.data )\n                \n                setUserValues({\n                                ...userValues,\n                                user_address : [res.data], \n                            })\n\n                initKitProducts()\n            }\n        }).catch(err=>{\n            \n        })\n        \n    }\n\n\n\n\n\nconst placeOrderToDb = async (slot, total_amount)=>{\n    // console.log(\"values :  \" , userValues.user_address[0] );\n    var data =  userValues.user_address[0];\n    let phoneNo = isAuthenticated().phoneNumber;\n    \n    console.log(\"placing order : \" , slot, total_amount );\n\n    let phoneNumber;\n    try{\n            phoneNumber = (phoneNo).substring(3);\n    }catch{\n\n    }\n\n    // console.log(\"init kit \");\n    // await fetch('https://api.npms.io/v2/search?q=react')\n    await axios({\n        'method'    :   'POST',\n        'url'       :   `${Base_URL}/orders/`,\n        'headers'   :   {\n                            'content-type': 'application/json;charset=utf-8',\n                        },\n        'data'      :  {\n                            user_id:`${phoneNumber}`, \n                            slot:slot,\n                            total_amount:`${total_amount}`,\n                            status:`1`,\n                            payment_id:\"NULL\"\n                       },                  \n    })\n    .then(res =>{\n        if(res.status === 201)\n        {\n            setValues({\n                ...values,\n                products_veg : res.data, // match it from backend\n            })\n            // console.log(\"res data : \", res.data );\n        }\n    }).catch(err=>{\n        console.log(\"error at product init : \",err);\n    })\n    \n}\n\n\n   useEffect( async ()=>{\n        // call function to initialize data to product kit\n        if(isAuthenticated())\n        {\n            await initUserAddress()\n            // await initKitProducts()\n            await InitCart();\n        }\n        \n\n        \n        // await initCartItems()\n        \n        // await initOrderPlaced()\n        \n    },[])\n\n\n\n\n    return (\n        <ProductContext.Provider value={{\n            ...userValues,\n            ...values,\n            block,\n            district,\n            ...cart,\n \n            setValues : setValues,\n            setUserValues : setUserValues,\n\n\n            setblock:setblock,\n            setdistrict:setdistrict,\n            \n            initUserAddress:initUserAddress,\n\n            initKitProducts:initKitProducts,\n\n            AddToCart:AddToCart,\n            CartChangeCount:CartChangeCount,\n\n            InitCart:InitCart,\n            \n            placeOrderToDb:placeOrderToDb,\n            UpdateAddressToDb:UpdateAddressToDb,\n\n            RemoveFromCart:RemoveFromCart,\n\n        }}>\n            {props.children}\n        </ProductContext.Provider>\n    )\n}\n\n\n// const ContextConsumer = ProductContext.Consumer;\nconst ContextConsumer =ProductContext  ;\nexport {ContextConsumer,ContextProvider}\n\n"]},"metadata":{},"sourceType":"module"}